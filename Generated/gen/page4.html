
<html>
	<meta charset="UTF-8"> 
	<head>
		<title>Mon questionnaire</title>
			<link href="../lib/css/bootstrap.min.css" rel="stylesheet">
	<style>
		.form-control.error::-webkit-input-placeholder { color: red; }
		.form-control.error:-moz-placeholder { color: red; }
		.form-control.error::-moz-placeholder { color: red; }
		.form-control.error:-ms-input-placeholder { color: red; }
		.form-control.error:focus {
 			border-color: #FF0000;
  			box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(255, 0, 0, 0.6);
		}
	</style>

	</head>
	<body>
		<div class="container text-center">
				<h2> Combien d'enfant avez vous ? </h2>

			<div class="col-md-offset-4 col-md-4">
					<form id="4" class="form-horizontal">
			<input class="form-control" name="reponse" id="4" placeholder="Votre reponse" autofocus>

			<button class="btn btn-lg btn-info" type="submit">Suivant</button>

	</form>
	
	

						<script src="../lib/js/jquery.min.js"></script>

	<script type="text/javascript">
			function questionDejaEnregistre(element, index, array) {
    	return element.intitule === "Combien d'enfant avez vous ?";
	}
	$('#4').on('submit', function(){
		val = $('input[name="reponse"]:checked').val() || $('input[name="reponse"]').val();
			if ( ! new RegExp('^\\d+$').test(val) ) {
			$('input').addClass('error');
	$('input').val('');
	$('input').attr('placeholder', '');
	return false;

	}

		if ( val ) {
			recap = JSON.parse(localStorage.getItem('recap')) || [];
			ancienneValeur = recap.find(questionDejaEnregistre);
			if ( ancienneValeur ){
				ancienneValeur.reponse = val;
			}else{
				question = {
					'intitule' : "Combien d'enfant avez vous ?",
					'reponse' : val
				};
				recap.push(question);			
			}
			localStorage.setItem("recap", JSON.stringify(recap));
		}
			window.location.href = "page3.html";
	return false;

	});

	</script>

			</div>
		</div>
	</body>
</html>



